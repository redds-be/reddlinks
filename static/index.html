<!--
    reddlinks, a simple link shortener written in Go.
    Copyright (C) 2024 redd

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shorten link | {{.InstanceTitle}}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="icon" type="image/svg" href="assets/img/reddlinks_logo_t.svg">
</head>
<body>
<p class="nav-text"><a href="{{.InstanceURL}}" class="nav-text nav-link">{{.InstanceTitle}}</a>
    <a href="https://github.com/redds-be/reddlinks" target="_blank" class="nav-text nav-link">
        <img src="assets/img/github_logo.svg" width="16" height="16" alt="Github Logo" class="svg">Source
    </a>
</p>

<div class="main">
    <p>Enter a URL to shorten</p>
    <form id="create_link" action="/add" method="post">
        <div class="div-input">
            <input placeholder="https://example.com" name="url" title="A url" class="url-input" type="url" required>
        </div>
        <div class="div-input">
            <input placeholder="custom" name="short" title="A custom path" class="oth-input" type="text" maxlength="{{.DefaultMaxCustomLength}}">
            <details>
                <summary>Custom path for your url. <b>Optional</b></summary>
                Example: {{.ShortenedLink}}<b>custom</b><br>
                If none is given, the path will be randomly generated.<br>
                "error", "status", "add", and "assets" are reserved.
            </details>
        </div>
        <div class="div-input">
            <label>
                <input placeholder="{{.DefaultShortLength}}" type="number" name="length" min="{{.DefaultShortLength}}" max="{{.DefaultMaxShortLength}}" class="oth-input" value="{{.DefaultShortLength}}">
            </label>
            <details>
                <summary>Length of the randomly generated path. <b>Optional</b></summary>
                Example: {{.ShortenedLink}}<b>hTx0Z0</b><br>
                Defaults to {{.DefaultShortLength}}.
            </details>
        </div>
        <div class="div-input">
            <label>
                <input placeholder="{{.DefaultExpiryTime}}" type="number" name="expire_after" min="-1" class="oth-input" value="{{.DefaultExpiryTime}}">
            </label>
            <details>
                <summary>Expiration time in minutes. <b>Optional</b></summary>
                Minutes before the link is expired.<br>Input -1 for no expiration time.<br>
                If the expiration time is -1 and the path is<br>
                randomly generated, its length will default to 16.<br>
                Defaults to {{.DefaultExpiryTime}}.
            </details>
        </div>
        <div class="div-input">
            <input placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;" name="password" title="Password" class="oth-input" type="password">
            <details>
                <summary>Password to protect the shortened url. <b>Optional</b></summary>
                Example: {{.ShortenedLink}}<b>path</b> will ask for a password.
            </details>
            <input type="hidden" name="_token" value="{{.Token}}">
            <input type="hidden" name="_time" value="{{.TimeOfExecution}}">
        </div>
        <div class="div-input">
            <button value="Add" name="add" type="submit">Shorten URL</button>
        </div>
    </form>
</div>

<div class="footer">
    <p>
        <a href="/privacy">Privacy Policy</a> | Version: {{.Version}}
    </p>
    <p>Developed by <a href="https://github.com/redds-be" target="_blank">redd</a>. Licensed under the
        <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank">GPLv3</a>
        Â© 2023. Get the
        <a href="https://github.com/redds-be/reddlinks" target="_blank">Source Code</a>.
    </p>
</div>
</body>
</html>